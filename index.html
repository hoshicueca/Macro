<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Macros â€” Beleza Brasileira</title>
  <style>
    :root{
      --bg:#fff9fe;
      --card:#fff;
      --accent:#7b3bd8;
      --accent-2:#9b59ff;
      --muted:#6b6b6b;
      --maxw:1100px;
      --radius:14px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    body{ margin:0; background: linear-gradient(180deg, rgba(123,59,216,0.06), rgba(155,89,255,0.02)); color:#111; padding:40px 20px; display:flex; justify-content:center; transition:background 0.5s ease; }
    .wrap{ width:100%; max-width:var(--maxw); }
    header{ display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:18px; }
    .logo{ width:66px; height:66px; border-radius:12px; background:linear-gradient(135deg,var(--accent),var(--accent-2)); display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; box-shadow:0 6px 24px rgba(123,59,216,0.14); font-size:20px; transition:all 0.4s ease; }
    h1{margin:0;font-size:20px}
    p.lead{margin:4px 0 0;color:var(--muted)}
    main{ margin-top:18px; display:grid; grid-template-columns:1fr 360px; gap:20px; align-items:start; }
    .cards{display:flex;flex-direction:column;gap:12px}
    .card{ background:var(--card); border-radius:var(--radius); padding:14px; box-shadow:0 6px 24px rgba(15,15,15,0.04); border:1px solid rgba(140,120,200,0.06); transition:all 0.4s ease; }
    .card h2{ margin:0 0 8px 0; font-size:16px; color:var(--accent); transition:color 0.3s ease;}
    pre.macro{ background:linear-gradient(180deg, rgba(123,59,216,0.03), rgba(123,59,216,0.01)); padding:10px;border-radius:10px;white-space:pre-wrap;word-break:break-word; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-size:13px;color:#111;margin:0;border:1px dashed rgba(123,59,216,0.08); line-height:1.4; }
    .meta{display:flex;gap:8px;align-items:center;margin-top:10px}
    .btn{ background:var(--accent);color:#fff;padding:8px 12px;border-radius:10px;border:0;cursor:pointer; font-weight:600;font-size:13px;box-shadow:0 8px 20px rgba(123,59,216,0.12); transition:background 0.4s ease; }
    .btn:hover{ filter:brightness(1.05); }
    .note{color:var(--muted);font-size:13px}

    /* Painel de automaÃ§Ã£o */
    #auto-panel{ position: fixed; bottom: 20px; right: 20px; background: var(--card); border: 1px solid rgba(123,59,216,0.15); border-radius: 14px; box-shadow: 0 6px 24px rgba(123,59,216,0.18); padding: 14px; z-index: 9999; width: 280px; transition:all 0.4s ease; }
    #auto-panel h4{ margin:0 0 8px 0; color:var(--accent); font-size:14px; }
    #auto-panel label{ font-size:13px; color:var(--muted); display:block; margin-top:8px;}
    #auto-panel input{ width:100%; padding:8px; margin-top:6px; border-radius:8px; border:1px solid rgba(123,59,216,0.3); font-size:14px; }
    #auto-panel button{ margin-top:10px;width:100%;padding:8px;border-radius:8px;border:none; background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:#fff;font-weight:600;cursor:pointer;box-shadow:0 4px 12px rgba(123,59,216,0.25); }

    .theme-toggle { display:flex; align-items:center; gap:8px; font-size:14px; color:var(--muted); }
    .switch { position: relative; display: inline-block; width: 50px; height: 26px; }
    .switch input {opacity: 0;width: 0;height: 0;}
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
    .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
    input:checked + .slider { background-color: var(--accent); }
    input:checked + .slider:before { transform: translateX(24px); }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div style="display:flex;align-items:center;gap:12px;">
        <div class="logo" id="logo">BB</div>
        <div>
          <h1 id="title">Macros â€” Beleza Brasileira</h1>
          <p class="lead" id="subtitle">ColeÃ§Ã£o organizada de mensagens prontas para Zendesk & WhatsApp â€” tom: carinhoso, acolhedor ğŸ’œğŸ”¥</p>
        </div>
      </div>
      <div class="theme-toggle">
        ğŸ’œ
        <label class="switch">
          <input type="checkbox" id="themeSwitch">
          <span class="slider"></span>
        </label>
        ğŸ’™
      </div>
    </header>

    <main>
      <div class="cards" id="cards">

        <!-- Macro 1 -->
        <section class="card">
          <h2>Pedido em Andamento ğŸ’œ</h2>
          <pre class="macro">Ei [Nome da cliente], tudo bem? ğŸ’œ
Seu pedido jÃ¡ estÃ¡ em andamento ğŸššâœ¨
ğŸ“¦ CÃ³digo de rastreio: **[CÃ“DIGO_DE_RASTREIO]**
ğŸ” Acompanhe por aqui: [LINK_DE_RASTREIO]
PrevisÃ£o de entrega: **[DATA_PREVISTA]**
Seguimos Ã  disposiÃ§Ã£o para o que precisar! ğŸ˜‰</pre>
          <div class="meta">
            <button class="btn" data-action="copy">ğŸ’œ Copiar</button>
            <div class="note">Use para pedidos em rota ou jÃ¡ enviados.</div>
          </div>
        </section>

        <!-- Macro 2 -->
        <section class="card">
          <h2>Pedido em SeparaÃ§Ã£o ğŸ’œ</h2>
          <pre class="macro">Ei [Nome da cliente], tudo bem? ğŸ’œ
Seu pedido jÃ¡ estÃ¡ em separaÃ§Ã£o no nosso estoque ğŸ·ï¸âœ¨
Logo mais ele serÃ¡ enviado para a transportadora ğŸšš
Obrigada pela confianÃ§a â€” seguimos juntas ğŸ’œğŸ”¥</pre>
          <div class="meta">
            <button class="btn" data-action="copy">ğŸ’œ Copiar</button>
            <div class="note">Use quando o pedido ainda nÃ£o foi enviado.</div>
          </div>
        </section>

        <!-- Macro 3 -->
        <section class="card">
          <h2>Pedido Entregue ğŸ’œ</h2>
          <pre class="macro">Oi [Nome da cliente], tudo bem? ğŸ’œ
Seu pedido jÃ¡ foi entregue! ğŸ‰âœ¨
Esperamos que vocÃª ame o produto ğŸ’œğŸ”¥
Qualquer dÃºvida ou necessidade, estamos Ã  disposiÃ§Ã£o! ğŸ™</pre>
          <div class="meta">
            <button class="btn" data-action="copy">ğŸ’œ Copiar</button>
            <div class="note">Use quando o pedido jÃ¡ consta como entregue.</div>
          </div>
        </section>

        <!-- Macro 4 -->
        <section class="card">
          <h2>Pedido Cancelado ğŸ’œ</h2>
          <pre class="macro">Oi [Nome da cliente], tudo bem? ğŸ’œ
Passando para avisar que seu pedido foi cancelado.
Se quiser, podemos te ajudar a refazer a compra ou entender o que houve ğŸ’œ
Qualquer coisa, estamos por aqui! ğŸ™</pre>
          <div class="meta">
            <button class="btn" data-action="copy">ğŸ’œ Copiar</button>
            <div class="note">Use quando o pedido foi cancelado.</div>
          </div>
        </section>

        <!-- Macro 5 -->
        <section class="card">
          <h2>Rastreio pela Loggi ğŸ’œ</h2>
          <pre class="macro">Ei, tudo bem? EstÃ¡ tudo certo com seu pedido!
VocÃª pode acompanhar o andamento da entrega pelo link abaixo:
ğŸ“¦ CÃ³digo de rastreio: **[CÃ“DIGO_DE_RASTREIO]**
ğŸ”— Site da transportadora: https://www.loggi.com/rastreador/
O prazo de entrega Ã© de 3 a 5 dias Ãºteis, e assim que houver atualizaÃ§Ãµes no rastreio, vocÃª conseguirÃ¡ acompanhar por lÃ¡. ğŸ’œ
Seguimos Ã  disposiÃ§Ã£o para o que precisar! ğŸ˜‰</pre>
          <div class="meta">
            <button class="btn" data-action="copy">ğŸ’œ Copiar</button>
            <div class="note">Use para pedidos com entrega via Loggi.</div>
          </div>
        </section>

      </div>
    </main>

    <footer id="footer">Macros geradas automaticamente â€” adapte conforme necessidade. ğŸ’œğŸ”¥</footer>
  </div>

  <!-- Painel de automaÃ§Ã£o -->
  <div id="auto-panel">
    <h4 id="panelTitle">Automatizar campos ğŸ’œ</h4>
    <label for="nomeInput">Nome da cliente:</label>
    <input type="text" id="nomeInput" placeholder="Ex: Juliana">
    <label for="codigoInput">CÃ³digo de rastreio:</label>
    <input type="text" id="codigoInput" placeholder="Ex: LX123456789BR">
    <label for="linkInput">Link de rastreio:</label>
    <input type="text" id="linkInput" placeholder="Ex: https://...">
    <label for="dataInput">Data prevista:</label>
    <input type="text" id="dataInput" placeholder="Ex: 05/11/2025">
    <button id="resetNames">Restaurar textos</button>
  </div>

  <script>
    // --- estado e templates ---
    const originalTemplates = {}; // id -> template com placeholders (base: Beleza Brasileira)
    let isHidratei = false; // false = Beleza Brasileira; true = Hidratei

    // placeholders inputs (serÃ£o preenchidos na attachInputs)
    const fields = { nome:null, codigo:null, link:null, data:null };

    // aplica placeholders
    function fillPlaceholders(template) {
      let text = template;
      const nome = fields.nome?.value.trim() || '';
      const codigo = fields.codigo?.value.trim() || '';
      const link = fields.link?.value.trim() || '';
      const data = fields.data?.value.trim() || '';
      if (nome)  text = text.replace(/

\[Nome da cliente\]

|

\[Nome\]

/gi, nome);
      if (codigo) text = text.replace(/

\[CÃ“DIGO_DE_RASTREIO\]

/gi, codigo);
      if (link)  text = text.replace(/

\[LINK_DE_RASTREIO\]

/gi, link);
      if (data)  text = text.replace(/

\[DATA_PREVISTA\]

/gi, data);
      return text;
    }

    // mapeia emojis conforme tema
    function applyEmojiMapping(text) {
      return isHidratei
        ? text.replace(/ğŸ’œ/g, 'ğŸ’™').replace(/ğŸ”¥/g, 'ğŸ’§')
        : text.replace(/ğŸ’™/g, 'ğŸ’œ').replace(/ğŸ’§/g, 'ğŸ”¥');
    }

    // captura templates originais
    function initTemplates() {
      document.querySelectorAll('pre.macro').forEach((pre, idx) => {
        if (!pre.id) pre.id = 'macro-' + idx + '-' + Math.random().toString(36).slice(2,8);
        if (!originalTemplates[pre.id]) originalTemplates[pre.id] = pre.innerText;
      });
    }

    // renderiza tudo
    function renderAllMacros() {
      document.querySelectorAll('pre.macro').forEach(pre => {
        const template = originalTemplates[pre.id] ?? pre.innerText;
        const filled = fillPlaceholders(template);
        pre.innerText = applyEmojiMapping(filled);
      });
      document.querySelectorAll('.card h2').forEach(h => {
        h.innerHTML = applyEmojiMapping(h.textContent);
      });
      document.querySelectorAll('.btn[data-action="copy"]').forEach(btn => {
        btn.innerHTML = applyEmojiMapping(btn.textContent);
      });
      const footer = document.getElementById('footer');
      if (footer) footer.innerText = applyEmojiMapping(footer.textContent);
      const panelTitle = document.getElementById('panelTitle');
      if (panelTitle) panelTitle.innerText = applyEmojiMapping(panelTitle.textContent);
      const subtitle = document.getElementById('subtitle');
      if (subtitle) subtitle.innerText = isHidratei
        ? 'Mensagens automÃ¡ticas com tom leve e refrescante ğŸ’™ğŸ’§'
        : 'ColeÃ§Ã£o organizada de mensagens prontas para Zendesk & WhatsApp â€” tom: carinhoso, acolhedor ğŸ’œğŸ”¥';
    }

    // copia texto da macro
    function attachCopyHandlers() {
      document.querySelectorAll('.btn[data-action="copy"]').forEach(btn => {
        btn.onclick = null;
        btn.addEventListener('click', () => {
          const card = btn.closest('.card');
          const pre = card?.querySelector('pre.macro');
          if (!pre) return;
          navigator.clipboard.writeText(pre.innerText).then(() => {
            const original = btn.innerText;
            btn.innerText = 'Copiado âœ…';
            setTimeout(() => { btn.innerText = original; }, 1000);
          }).catch(() => {
            const range = document.createRange();
            range.selectNodeContents(pre);
            const sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
            try {
              document.execCommand('copy');
              sel.removeAllRanges();
              const original = btn.innerText;
              btn.innerText = 'Copiado âœ…';
              setTimeout(() => { btn.innerText = original; }, 1000);
            } catch {
              alert('Erro ao copiar â€” tente em ambiente seguro (HTTPS) ou permita acesso.');
            }
          });
        });
      });
    }

    // toggle de tema
    function attachThemeToggle() {
      const themeSwitch = document.getElementById('themeSwitch');
      if (!themeSwitch) return;
      themeSwitch.onchange = null;
      themeSwitch.addEventListener('change', () => {
        isHidratei = themeSwitch.checked;
        applyTheme();
      });
    }

    function applyTheme() {
      const root = document.documentElement;
      const logo = document.getElementById('logo');
      const title = document.getElementById('title');
      const footer = document.getElementById('footer');
      const panelTitle = document.getElementById('panelTitle');

      if (isHidratei) {
        root.style.setProperty('--bg','#f0f8ff');
        root.style.setProperty('--card','#ffffff');
        root.style.setProperty('--accent','#2196f3');
        root.style.setProperty('--accent-2','#1976d2');
        root.style.setProperty('--muted','#444');
        document.body.style.background = 'linear-gradient(180deg, rgba(33,150,243,0.08), rgba(25,118,210,0.03))';

        if (logo) logo.innerText = 'H';
        if (title) title.innerText = 'Macros â€” Hidratei';
        if (footer) footer.innerText = 'Macros Hidratei â€” use com carinho ğŸ’™ğŸ’§';
        if (panelTitle) panelTitle.innerText = 'Automatizar campos ğŸ’™';
      } else {
        root.style.setProperty('--bg','#fff9fe');
        root.style.setProperty('--card','#fff');
        root.style.setProperty('--accent','#7b3bd8');
        root.style.setProperty('--accent-2','#9b59ff');
        root.style.setProperty('--muted','#6b6b6b');
        document.body.style.background = 'linear-gradient(180deg, rgba(123,59,216,0.06), rgba(155,89,255,0.02))';

        if (logo) logo.innerText = 'BB';
        if (title) title.innerText = 'Macros â€” Beleza Brasileira';
        if (footer) footer.innerText = 'Macros geradas automaticamente â€” adapte conforme necessidade. ğŸ’œğŸ”¥';
        if (panelTitle) panelTitle.innerText = 'Automatizar campos ğŸ’œ';
      }
      renderAllMacros();
      attachCopyHandlers();
    }

    // inputs -> rerender
    function attachInputs() {
      fields.nome   = document.getElementById('nomeInput');
      fields.codigo = document.getElementById('codigoInput');
      fields.link   = document.getElementById('linkInput');
      fields.data   = document.getElementById('dataInput');

      Object.values(fields).forEach(input => {
        if (!input) return;
        input.addEventListener('input', renderAllMacros);
      });

      const resetBtn = document.getElementById('resetNames');
      if (resetBtn) {
        resetBtn.addEventListener('click', () => {
          Object.values(fields).forEach(i => { if (i) i.value = ''; });
          renderAllMacros();
        });
      }
    }

    // init robusto
    function initAll() {
      if (!document.getElementById('panelTitle')) {
        const h4 = document.createElement('h4');
        h4.id = 'panelTitle';
        h4.innerText = 'Automatizar campos ğŸ’œ';
        document.getElementById('auto-panel')?.prepend(h4);
      }
      initTemplates();
      attachInputs();
      attachThemeToggle();
      applyTheme();
    }

    if (document.readyState === 'loading') {
      window.addEventListener('DOMContentLoaded', initAll);
    } else {
      initAll();
    }
  </script>
</body>
</html>
